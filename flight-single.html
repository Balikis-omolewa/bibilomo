<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="TechyDevs" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Bibilomo Travels | Live your Dream Destinations</title>
    <!-- Favicon -->
    <link rel="icon" href="images/favicon.png" />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap"
      rel="stylesheet"
    />

    <!-- Template CSS Files -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/select2.min.css" />
    <link rel="stylesheet" href="css/line-awesome.css" />
    <link rel="stylesheet" href="css/owl.carousel.min.css" />
    <link rel="stylesheet" href="css/owl.theme.default.min.css" />
    <link rel="stylesheet" href="css/jquery.fancybox.min.css" />
    <link rel="stylesheet" href="css/daterangepicker.css" />
    <link rel="stylesheet" href="css/animate.min.css" />
    <link rel="stylesheet" href="css/animated-headline.css" />
    <link rel="stylesheet" href="css/jquery-ui.css" />
    <link rel="stylesheet" href="css/flag-icon.min.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <!-- start cssload-loader -->
    <div class="preloader" id="preloader">
      <div class="loader">
        <svg class="spinner" viewBox="0 0 50 50">
          <circle
            class="path"
            cx="25"
            cy="25"
            r="20"
            fill="none"
            stroke-width="5"
          ></circle>
        </svg>
      </div>
    </div>
    <!-- end cssload-loader -->

    <!-- ================================
            START HEADER AREA
================================= -->
<header class="header-area">
  <div class="header-top-bar padding-right-100px padding-left-100px">
  </div>
  <div class="header-menu-wrapper padding-right-100px padding-left-100px">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12">
          <div class="menu-wrapper">
            <a href="#" class="down-button"
              ><i class="la la-angle-down"></i
            ></a>
            <div class="logo">
              <a href="index.html"
                ><img src="images/logo.png" alt="logo"
              /></a>
              <div class="menu-toggler">
                <i class="la la-bars"></i>
                <i class="la la-times"></i>
              </div>
              <!-- end menu-toggler -->
            </div>
            <!-- end logo -->
            <div class="main-menu-content">
              <nav>
                <ul style="font-size: 22x; font-weight: 600;">
                  <li>
                    <a href="index.html">Home </a>
                    
                  </li>
                  <li>
                    <a href="tour-fullwidth.html">Tour</a>
                    
                  </li>
                  <li>
                    <a href="flight-grid.html">Explore </a></li></li>
                    <li><a href="#">About Us </a></li>
                  <li><a href="contact.html">Contact </a></li>
                </ul>
              </nav>
            </div>
            <!-- end main-menu-content -->
            
            <!-- end nav-btn -->
          </div>
          <!-- end menu-wrapper -->
        </div>
        <!-- end col-lg-12 -->
      </div>
      <!-- end row -->
    </div>
    <!-- end container-fluid -->
  </div>
  <!-- end header-menu-wrapper -->
</header>
    <!-- ================================
         END HEADER AREA
================================= -->

    <!-- ================================
    START BREADCRUMB AREA
================================= -->
    <section class="breadcrumb-area bread-bg-6 py-0">
      <div class="breadcrumb-wrap">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <div class="breadcrumb-btn">
                <a
                  class="d-none"
                  data-fancybox="gallery"
                  data-src="images/destination-img2.jpg"
                  data-caption="Showing image - 02"
                  data-speed="700"
                ></a>
                <a
                  class="d-none"
                  data-fancybox="gallery"
                  data-src="images/destination-img3.jpg"
                  data-caption="Showing image - 03"
                  data-speed="700"
                ></a>
                <a
                  class="d-none"
                  data-fancybox="gallery"
                  data-src="images/destination-img4.jpg"
                  data-caption="Showing image - 04"
                  data-speed="700"
                ></a>
              </div>
              <!-- end breadcrumb-btn -->
            </div>
            <!-- end col-lg-12 -->
          </div>
          <!-- end row -->
        </div>
        <!-- end container -->
      </div>
      <!-- end breadcrumb-wrap -->
    </section>
    <!-- end breadcrumb-area -->
    <!-- ================================
    END BREADCRUMB AREA
================================= -->

    <!-- ================================
    START TOUR DETAIL AREA
================================= -->
    <section class="tour-detail-area padding-bottom-90px">
      <div
        class="single-content-navbar-wrap menu section-bg"
        id="single-content-navbar"
      >
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <div class="single-content-nav" id="single-content-nav">
                <ul>
                  <li>
                    <a
                      data-scroll="description"
                      href="#description"
                      class="scroll-link active"
                      >Flight Details</a
                    >
                  </li>
                 
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- end single-content-navbar-wrap -->
      <div class="single-content-box">
        <div class="container">
          <div class="row">
            <div class="col-lg-8">
              <div class="single-content-wrap padding-top-60px" id="flightDetailsContainer">
                  <!-- Dynamic flight details will appear here -->
              </div>
          </div>
          
            <!-- end col-lg-8 -->
            <div class="col-lg-4">
              <div class="sidebar single-content-sidebar mb-0">
                <div class="sidebar-widget single-content-widget">
                  <div class="sidebar-widget-item">
                    <div class="sidebar-book-title-wrap mb-3">
                      <h3>Price</h3>
                      <p>
                        <span class="text-form">From</span>
                        <span id="flightPrice" class="text-value ms-2 me-1">$0.00</span>
                        <span id="beforePrice" class="before-price">$0.00</span>
                      </p>
                    </div>
                  </div>
                  <!-- end sidebar-widget-item -->
                  <div class="btn-box pt-2">
                    <a
                      id="bookNowLink"
                      href="#"
                      class="theme-btn text-center w-100 mb-2"
                    >
                      <i class="la la-shopping-cart me-2 font-size-18"></i>Book Now
                    </a>
                    <a
                      href="#"
                      class="theme-btn text-center w-100 theme-btn-transparent"
                    >
                      <i class="la la-heart-o me-2"></i>Add to Wishlist
                    </a>
                  </div>
                </div>
                <!-- end sidebar-widget -->
                <div class="sidebar-widget single-content-widget">
                  <h3 class="title stroke-shape">Why Book With Us?</h3>
                  <div class="sidebar-list">
                    <ul class="list-items">
                      <li>
                        <i class="la la-dollar icon-element me-2"></i>No-hassle best price guarantee
                      </li>
                      <li>
                        <i class="la la-microphone icon-element me-2"></i>Customer care available 24/7
                      </li>
                      <li>
                        <i class="la la-thumbs-up icon-element me-2"></i>Hand-picked Tours & Activities
                      </li>
                      <li>
                        <i class="la la-file-text icon-element me-2"></i>Free Travel Insurance
                      </li>
                    </ul>
                  </div>
                </div>
                <div class="sidebar-widget single-content-widget">
                  <h3 class="title stroke-shape">Get a Question?</h3>
                  <p class="font-size-14 line-height-24">
                    Do not hesitate to give us a call. We are an expert team and
                    we are happy to talk to you.
                  </p>
                  <div class="sidebar-list pt-3">
                    <ul class="list-items">
                      <li>
                        <i class="la la-phone icon-element me-2"></i>
                        <a href="#">+ 61 23 8093 3400</a>
                      </li>
                      <li>
                        <i class="la la-envelope icon-element me-2"></i>
                        <a href="mailto:info@bibilomo.com">info@bibilomo.com</a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <!-- end sidebar -->
            </div>
            
            <!-- end col-lg-4 -->
          </div>
          <!-- end row -->
        </div>
        <!-- end container -->
      </div>
      <!-- end single-content-box -->
    </section>
    <!-- end tour-detail-area -->
    <!-- ================================
    END TOUR DETAIL AREA
================================= -->

    <div class="section-block"></div>

    <!-- ================================
    START RELATE TOUR AREA
================================= -->
    <!-- end cta-area -->
    <!-- ================================
    END CTA AREA
================================= -->

    <!-- ================================
       START FOOTER AREA
================================= -->
<section style="background: #ffffff;"
class="footer-area section-bg padding-top-100px padding-bottom-30px"
>
<div class="container">
  <div class="row">
    <div class="col-lg-3 responsive-column">
      <div class="footer-item">
        <div class="footer-logo padding-bottom-30px">
          <a href="index.html" class="foot__logo"
            ><img src="images/logo.png" alt="logo"
          /></a>
        </div>
        <!-- end logo -->
        <p class="footer__desc">
          We specialize in crafting exclusive luxury travel experiences designed to offer comfort and personalized service.
        </p>
      </div>
      <!-- end footer-item -->
    </div>
    <!-- end col-lg-3 -->
    <div class="col-lg-3 responsive-column">
      <div class="footer-item">
        <h4 style="color: black; padding-bottom: 10px; font-weight: 600;">
          Destinations
        </h4>
        <ul class="list-items list--items">
          <li><a href="#">Egypt</a></li>
          <li><a href="#">Turkey</a></li>
          <li><a href="#">USA</a></li>
          <li><a href="#">France</a></li>
          <li><a href="#">Greece</a></li>
        </ul>
      </div>
      <!-- end footer-item -->
    </div>
    <!-- end col-lg-3 -->
    <div class="col-lg-3 responsive-column">
      <div class="footer-item">
        <h4 style="color: black; padding-bottom: 10px; font-weight: 600;" >
          Useful Links
        </h4>
        <ul class="list-items list--items">
          <li><a href="#">About Us </a></li>
          <li><a href="#">Travel Blog</a></li>
          <li><a href="#">Be Our Partner</a></li>
          <li><a href="#">F.A.Q</a></li>
        </ul>
      </div>
      <!-- end footer-item -->
    </div>
    <!-- end col-lg-3 -->
    <div class="col-lg-3 responsive-column">
      <div class="footer-item">
        <h4 style="color: black; padding-bottom: 10px; font-weight: 600;"> Contact Us</h4>
        <p class="footer__desc pb-3">
          Travel & Tourism,
          2855 Nelsonville Rd, Boston, Massachusetts (MA), 40107
        </p>
        <div style="display: flex; align-items: flex-start;">
          <div class="footer-social-box text-end">
            <ul class="social-profile">
              <li>
                <a href="#"><i class="lab la-facebook-f"></i></a>
              </li>
              <li>
                <a href="#"><i class="lab la-twitter"></i></a>
              </li>
              <li>
                <a href="#"><i class="lab la-instagram"></i></a>
              </li>
              <li>
                <a href="#"><i class="lab la-linkedin-in"></i></a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <!-- end footer-item -->
    </div>
    <!-- end col-lg-3 -->
  </div>
  <!-- end row -->
  
<!-- end container -->
<div class="section-block mt-4"></div>
<div class="container">
  <div class="row align-items-center">
    <div class="col-lg-12">
      <div class="copy-right padding-top-30px">
        <p class="copy__desc" style="color: black; text-align: center;">
          &copy; Copyright Bibilomo Travels & Tour   2024
         
        </p>
      </div>
      <!-- end copy-right -->
    </div>
  </div>
  <!-- end row -->
</div>
<!-- end container -->
</section>
    <!-- end footer-area -->
    <!-- ================================
       START FOOTER AREA
================================= -->

    <!-- start back-to-top -->
    <div id="back-to-top">
      <i class="la la-angle-up" title="Go top"></i>
    </div>
    <!-- end back-to-top -->

    <!-- Template JS Files -->
    <script src="js/jquery-3.7.1.min.js"></script>
    <script src="js/jquery-ui.js"></script>

    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/select2.min.js"></script>
    <script src="js/moment.min.js"></script>
    <script src="js/daterangepicker.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.fancybox.min.js"></script>
    <script src="js/jquery.countTo.min.js"></script>
    <script src="js/animated-headline.js"></script>
    <script src="js/jquery.ripples-min.js"></script>
    <script src="js/quantity-input.js"></script>
    <script src="js/copy-text-script.js"></script>
    <script src="js/navbar-sticky.js"></script>
    <script src="js/main.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", async () => {
          const BASE_API_URL = "https://bibilomo-project.onrender.com";
          const flightDetailsContainer = document.getElementById("flightDetailsContainer");
          const queryParams = new URLSearchParams(window.location.search);
          const flightId = queryParams.get("id");
  
          // Sidebar elements for price and booking link
          const flightPrice = document.getElementById("flightPrice");
          const beforePrice = document.getElementById("beforePrice");
          const bookNowLink = document.getElementById("bookNowLink");
  
          // Function to display flight details in the main content
          const displayFlightDetails = (flight) => {
              flightDetailsContainer.innerHTML = `
                  <div id="description" class="page-scroll">
                      <div class="single-content-item pb-4">
                          <h3 class="title font-size-26">${flight.origin} to ${flight.destination}</h3>
                          <div class="d-flex align-items-center pt-2">
                              <p class="me-2">${flight.return_date ? "Round Trip" : "One way flight"}</p>
                              <p>
                                  <span class="badge text-bg-warning text-white font-weight-medium font-size-16">
                                      1 Stop
                                  </span>
                              </p>
                          </div>
                      </div>
                      <div class="section-block"></div>
                      <div class="single-content-item py-4">
                          <div class="row">
                              <div class="col-lg-4 col-sm-4 text-center mb-3">
                                  <h3 class="title font-size-15 font-weight-medium">Flight Take off</h3>
                                  <span class="font-size-13">${new Date(flight.departure_date).toDateString()}</span>
                              </div>
                              <div class="col-lg-4 col-sm-4 text-center mb-3">
                                  <i class="la la-clock-o text-color font-size-22"></i>
                                  <span class="font-size-13 mt-n2">13 Hours 40 min</span>
                              </div>
                              <div class="col-lg-4 col-sm-4 text-center mb-3">
                                  <h3 class="title font-size-15 font-weight-medium">Flight Landing</h3>
                                  <span class="font-size-13">${flight.return_date ? new Date(flight.return_date).toDateString() : "One-way"}</span>
                              </div>
                          </div>
                      </div>
                      <div class="section-block"></div>
                      <div class="single-content-item py-4">
                          <div class="row">
                              <div class="col-lg-4 responsive-column mb-3">
                                  <h3 class="title font-size-15 font-weight-medium">Airline</h3>
                                  <span class="font-size-13">${flight.airline || "Unknown"}</span>
                              </div>
                              <div class="col-lg-4 responsive-column mb-3">
                                  <h3 class="title font-size-15 font-weight-medium">Flight Type</h3>
                                  <span class="font-size-13">Economy</span>
                              </div>
                              <div class="col-lg-4 responsive-column mb-3">
                                  <h3 class="title font-size-15 font-weight-medium">Base Fare</h3>
                                  <span class="font-size-13">$${flight.price}</span>
                              </div>
                          </div>
                      </div>
                      <div class="section-block"></div>
                      <div class="single-content-item padding-top-40px padding-bottom-40px">
                          <h3 class="title font-size-20">Note:</h3>
                          <p class="py-3">
                              Please make sure that you enter the name exactly as it appears on the ID that will be used when checking in. 
                              To ensure your trip goes smoothly, ensure the passenger's travel document is valid on the date the trip ends.
                              Once confirmed, the booking cannot be changed. If your name is incorrect, you may be unable to board your flight and a cancellation fee will be charged.
                          </p>
                      </div>
                  </div>
              `;
  
              // Update the sidebar price dynamically
              if (flightPrice && beforePrice) {
                  flightPrice.textContent = `$${flight.price}`;
                  beforePrice.textContent = `$${(flight.price * 1.1).toFixed(2)}`; // Adding a 10% markup as "before price"
              }
  
              // Update the "Book Now" link dynamically
              if (bookNowLink) {
                  bookNowLink.href = `flight-booking.html?id=${flight.id}`;
              }
          };
  
          // Function to fetch and display flight details
          const fetchFlightDetails = async () => {
              if (!flightId) {
                  flightDetailsContainer.innerHTML = `
                      <p style="color: red;">No flight ID provided. Please return to the previous page and try again.</p>
                  `;
                  return;
              }
  
              try {
                  flightDetailsContainer.innerHTML = "<p>Loading flight details...</p>";
  
                  const response = await fetch(`${BASE_API_URL}/api/flight/package/${flightId}`);
                  if (!response.ok) throw new Error(`Error fetching flight details: ${response.statusText}`);
                  const flight = await response.json();
  
                  if (!flight || Object.keys(flight).length === 0) {
                      flightDetailsContainer.innerHTML = `<p style="color: red;">Flight not found.</p>`;
                      return;
                  }
  
                  // Display flight details dynamically
                  displayFlightDetails(flight);
              } catch (error) {
                  flightDetailsContainer.innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
                  console.error("Error fetching flight details:", error);
              }
          };
  
          // Fetch the flight details when the page loads
          fetchFlightDetails();
      });
  </script>
  
  
  </body>
</html>
